<!--
départ jaune -> AX1,et tourner barillet pour se placer devant un non-rouge
départ violet -> AX2
-->

<root main_tree_to_execute="MainTree">


    <BehaviorTree ID="CollectPucks">
        <Sequence>
            <SubTree ID = "GetPuck" pos = "">
            <SubTree ID = "GetPuck" pos = "">
            <SubTree ID = "GetPuck" pos = "">
            <SubTree ID = "GetPuck" pos = "">
            <SubTree ID = "GetPuck" pos = "">
            <SubTree ID = "GetPuck" pos = "">
        </Sequence>
    </BehaviorTree>

    <BehaviorTree ID = "GetPuck">
        <MoveAhead moveForward="true"
                   distance = "{pos}"
        />
        <ActiverBarillet/>
        <GrabPuck/>
    </BehaviorTree>

    <BehaviorTree ID = "GrabPuck">
        <MoveAX_3 name="approach_puck"
                  pos=""
                  mode="joint"
        />
        <ActivatePump/>
        <MoveAX_5 name="turn_90"
                  pos=""
                  mode="joint"
        />
        <MoveAX_4 name="approach_barrel"
                  pos=""
                  mode="joint"
        />
        <ActivatePump/>
        <MoveAX_4 name="return"
                  pos=""
                  mode="joint"
        />
    </BehaviorTree>



    <BehaviorTree ID="WeightPucks">
        <Sequence>
            <ActiverBarillet/>
            <Repeat nb="5">
                <MoveAX_1 name="psuh_puck"
                          pos=""
                          mode="joint"
                />
                <MoveAX_1 name="return"
                          pos=""
                          mode="joint"
                />
                <ActiverBarillet/>
            </Repeat/>
        </Sequence>

    </BehaviorTree>



    <BehaviorTree ID="ReachAccelerator">
        <Sequence>
            <MoveAhead moveForward="true"
                       distance = ""
            />
            <Turn angle = ""
            />
            <MoveAhead moveForward="true"
                       distance = ""
            />
            <Turn angle = ""
            />
            <MoveAhead moveForward="true"
                       distance = ""
            />
        </Sequence>
    </BehaviorTree>



    <BehaviorTree ID="DropInAccelerator">
        <MoveAX_1 name="psuh_puck"
                  pos=""
                  mode="joint"
        />
        <MoveAX_1 name="return"
                  pos=""
                  mode="joint"
        />
    </BehaviorTree>



    <BehaviorTree ID="MainTree">
        <Sequence>
            <SubTree ID="CollectPucks"/>
            <SubTree ID="WeightPucks"/>
            <SubTree ID="ReachAccelerator"/>
            <SubTree ID="DropInAccelerator"/>
        </Sequence>
    </BehaviorTree>
</root>