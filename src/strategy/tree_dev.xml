<root main_tree_to_execute="MainTree">
    <BehaviorTree ID="MainTree">
        <Sequence name="root">
            <!--            <SubTree ID="PickAtomLeft"/>-->
            <SubTree ID="TurnBarrelOneSpot"
                     barrelGoalPosition="1000"/>
        </Sequence>
    </BehaviorTree>

    <BehaviorTree ID="PickAtomLeft">
        <Sequence>
            <MoveArmFront name="move arm to the back"
                          pos="500"
            />
            <MoveArmSideJoint name="move arm to the center (joint mode)"
                              pos="800"
            />
            <TurnArm name="turn arm to the left"
                     pos="200"
            />
            <MoveArmSideWheel name="move arm to the left"
                              distance="500"
            />

            <ActivatePump/>

            <MoveArmSideWheel name="move arm back inside"
                              distance="-500"
            />
            <MoveArmSideJoint name="move arm to the center (joint mode)"
                              pos="800"
            />
            <TurnArm name="turn arm to the center"
                     pos="510"
            />
            <MoveArmFront name="move arm to the front"
                          pos="150"
            />

            <DeactivatePump/>

            <MoveArmFront name="move arm to the back"
                          pos="500"
            />
        </Sequence>
    </BehaviorTree>

    <BehaviorTree ID="TurnBarrelOneSpot">
        <Sequence>
            <ActivateBarrel name="start turning the barrel"/>
            <RetryUntilSuccesful num_attempts="10000">
                <IsBarrelMoveFinished name="check if the barrel has turned enough"
                                      goalPosition="barrelGoalPosition"/>
            </RetryUntilSuccesful>
            <DeactivateBarrel name="stop turning the barrel"/>
        </Sequence>
    </BehaviorTree>
</root>
